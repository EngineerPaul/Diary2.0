<style>
/* Указать в стиль длину, ширину одного поля и позиционирование. */
/* В функции отображения будем передавать топ и лефт. */
</style>

<script>
const objectsList = document.getElementById('objectsList')

const settingsGear = {
    ddArea: objectsList,
    btns: ['Переименовать', 'Изменить цвет', 'Удалить'],

    crtSettList: function(elem, coords) {
        // Создать встроенные функции для создания обеъекта меню и отображению объекта.


        // создать общий элемент для всего поля
        const gearMenu = document.createElement("div")
        element.classList.add('gear-settings')
        // parent.appendChild(element)
        // Добавлять меню будем в ddarea. 

        // присобачить к нему все кнопки
        for (btn of this.btns) {
            // Создание кнопок меню по отдельности (без списка) сразу с назначением листинера событий
            console.log(btn)
            let element = document.createElement("p")
            element.classList.add('gear-settings-btn')
            element.innerText = btn
            gearMenu.appendChild(element)
        }

        // привязать функции-обработчики нажатий на кнопки
        
        // оторазить в точке с првоеркой влезет/не влезет снизу 
        
        
        // console.log(`el=${elem}, coords=${coords}`)
    },
    dispGearSettings: function(event) {
        let gear = event.target.closest('.content-svg')
        if (!(gear)) return

        event.preventDefault()
        let elem = {
            self: gear.closest('.dd-object'),
            type: null,
        }
        elem.type = elem.self.classList.contains('folder')?'folder':'record'
        let coords = {
            x: event.pageX,
            y: event.pageY
        }
        // Разделить аргументы функции: Id, тип, координаты 4 шт
        this.crtSettList(elem, coords)
    },

    run: function() {
        this.ddArea.addEventListener('click', this.dispGearSettings.bind(this))
        this.ddArea.addEventListener('contextmenu', this.dispGearSettings.bind(this))
    }
}
settingsGear.run()

// Меню должна разрушаться от каждого от ЛКМ, ПКМ, СКМ, тачпада, скрола, esc в границах всего 
// документа. А также автоматически через 3 секунды.


    // let crSettList = function(el, coords) {}

</script>